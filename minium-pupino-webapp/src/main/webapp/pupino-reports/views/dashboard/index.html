<!-- Right side column. Contains the navbar and content of the page -->
<aside class="right-side">
    <!-- Content Header (Page header) -->
    <section class="content-header">
        <h1>
            Dashboard
            <small>Control panel</small>
        </h1>
        <ol class="breadcrumb">
            <li><a href="#"><i class="glyphicon glyphicon-dashboard"></i> Home</a>
            </li>
            <li class="active">Dashboard</li>
        </ol>
    </section>

    <!-- Main content -->
    <section class="content">
        <!-- Main row -->

        <section class="col-md-6 connectedSortable ui-sortable">

            <div class="row">
                <div class="box box-success">
                    <div class="box-header">
                        <h3 class="box-title">Projects</h3>
                    </div>
                    <!-- /.box-header -->
                    <div class="box-body no-padding">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Name</th>
                                    <th>Description</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="project in projects">
                                    <td>
                                        {{project.id}}
                                    </td>
                                    <td>
                                        <a ui-sref="global.project-detail({ id: project.id })">
                                            {{project.name}}
                                        </a>
                                    </td>
                                    <td>{{project.description}}</td>
                                    <td style="text-align: center;">
                                        <a class='btn btn-primary btn-xs' ui-sref="global.project-detail({ id: project.id })">
                                           Show
                                        </a>

                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <!-- /.box-body -->
                </div>

            </div>

            <div class="row">
                <div class="box box-danger">
                    <div class="box-header">
                        <i class="glyphicon glyphicon-comments-o"></i>
                        <h3 class="box-title">Failing Tests</h3>
                        <div class="box-tools pull-right" data-toggle="tooltip" title="Status">
                            <span class="label label-danger">Failing</span>
                        </div>
                    </div>
                    <div class="box-body ">
                        <table class="table table-primary table-list">
                            <thead>
                                <tr>
                                    <th>Result</th>
                                    <th>Feature</th>
                                    <th>Total</th>
                                    <th>Passed</th>
                                    <th>Failed</th>
                                    <th>Duration</th>
                                    <th>File</th>
                                    <th class="text-center"></th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- ngRepeat: feature in faillingFeatures -->
                                <tr class="ng-scope danger">
                                    <td>
                                        <span class="hide ng-binding">FAILED</span>
                                        <!-- ngIf: isPassed(feature.status) -->
                                        <!-- ngIf: !isPassed(feature.status) --><i ng-if="!isPassed(feature.status)" class="danger fa fa-bug fa-2x ng-scope"></i>
                                        <!-- end ngIf: !isPassed(feature.status) -->
                                    </td>
                                    <td>
                                        <a ui-sref="global.feature({ id: project.id, buildId: lastFinishedBuild.id, featureURI: (feature.uri | escape) })" class="ng-binding" href="#/project/1/build/2014-12-16_10-32-18/features%252Fpassengers%2FotherSchedules.feature">
                                    otherSchedules
                                    </a>
                                    </td>
                                    <td class="ng-binding">
                                        12
                                    </td>
                                    <td style="background-color:grenn;" class="ng-binding">
                                        5
                                    </td>
                                    <td class="ng-binding">
                                        5
                                    </td>
                                    <td class="ng-binding">
                                        48 secs and 610 ms
                                    </td>
                                    <td>
                                        <a class="btn btn-primary btn-xs" ng-href="http://localhost:8080/#/editor/features/passengers/otherSchedules.feature?line=1" target="_blank" href="http://localhost:8080/#/editor/features/passengers/otherSchedules.feature?line=1">
                                       Go to File
                                    </a>
                                    </td>
                                    <td>
                                        <div class="btn-group">
                                            <a data-toggle="dropdown" class="dropdown-toggle">
                                                <i class="fa fa-cog"></i>
                                            </a>
                                            <ul role="menu" class="dropdown-menu pull-right">
                                                <li><a href="#">View</a>
                                                </li>
                                                <li><a href="#">Close</a>
                                                </li>
                                                <li><a href="#">Resolve</a>
                                                </li>
                                                <li class="divider"></li>
                                                <li><a href="#">Assign</a>
                                                </li>
                                                <li><a href="#">Comment</a>
                                                </li>
                                            </ul>
                                        </div>
                                    </td>
                                </tr>
                                <!-- end ngRepeat: feature in faillingFeatures -->
                                <tr ng-class="{'danger' : !isPassed(feature.status),'success' : isPassed(feature.status)}" class="ng-scope danger">
                                    <td>
                                        <span class="hide ng-binding">FAILED</span>
                                        <!-- ngIf: isPassed(feature.status) -->
                                        <!-- ngIf: !isPassed(feature.status) --><i ng-if="!isPassed(feature.status)" class="danger fa fa-bug fa-2x ng-scope"></i>
                                        <!-- end ngIf: !isPassed(feature.status) -->
                                    </td>
                                    <td>
                                        <a ui-sref="global.feature({ id: project.id, buildId: lastFinishedBuild.id, featureURI: (feature.uri | escape) })" class="ng-binding" href="#/project/1/build/2014-12-16_10-32-18/features%252Fpassengers%2Fschedules.feature">
                                    Schedules
                                    </a>
                                    </td>
                                    <td class="ng-binding">
                                        12
                                    </td>
                                    <td style="background-color:grenn;" class="ng-binding">
                                        5
                                    </td>
                                    <td class="ng-binding">
                                        2
                                    </td>
                                    <td class="ng-binding">
                                        38 secs and 339 ms
                                    </td>
                                    <td>
                                        <a class="btn btn-primary btn-xs" ng-href="http://localhost:8080/#/editor/features/passengers/schedules.feature?line=1" target="_blank" href="http://localhost:8080/#/editor/features/passengers/schedules.feature?line=1">
                                       Go to File
                                    </a>
                                    </td>
                                    <td>
                                        <div class="btn-group">
                                            <a data-toggle="dropdown" class="dropdown-toggle">
                                                <i class="fa fa-cog"></i>
                                            </a>
                                            <ul role="menu" class="dropdown-menu pull-right">
                                                <li><a href="#">View</a>
                                                </li>
                                                <li><a href="#">Close</a>
                                                </li>
                                                <li><a href="#">Resolve</a>
                                                </li>
                                                <li class="divider"></li>
                                                <li><a href="#">Assign</a>
                                                </li>
                                                <li><a href="#">Comment</a>
                                                </li>
                                            </ul>
                                        </div>
                                    </td>
                                </tr>
                                <!-- end ngRepeat: feature in faillingFeatures -->
                            </tbody>
                        </table>
                    </div>
                    <!-- /.box-->

                </div>
            </div>

            <div class="box box box-primary">
                <div class="box-header">
                    <i class="fa fa-list"></i>
                    <h3 class="box-title">My Projects Status</h3>
                </div>
                <div class="box-body ">
                    <nvd3-pie-chart data="pieChart" id="exampleId" width="550" height="350" x="xFunction()" y="yFunction()" showLabels="true" showLegend="true" color="colorFunction()" legendColor="colorFunction()" labelType="" donut="false" donutRatio=".30" noData="No Data For You!">
                        <svg></svg>
                    </nvd3-pie-chart>
                </div>
            </div>
        </section>
        <!-- end of section col-md-7 -->

        <section class="col-md-6 connectedSortable ui-sortable">

            <div class="box box box-primary">
                <div class="box-header">
                    <i class="fa fa-gear"></i>
                    <h3 class="box-title">Last Builds</h3>
                    <div class="box-tools btn-group pull-right" data-toggle="buttons">
                        <label class="btn btn-default" ng-click="status = 'SUCCESS'" title="Succeeded">
                            <input type="radio"></input>
                            <i class="fa fa-square text-green"></i>
                        </label>
                        <label class="btn btn-default" ng-click="status = 'UNSTABLE'" title="Failed">
                            <input type="radio"></input>
                            <i class="fa fa-square text-red"></i>
                        </label>
                        <label class="btn btn-default" ng-click="status = ''" title="All">
                            <input type="radio"></input>
                            <i class="fa fa-square"></i>
                        </label>
                    </div>
                </div>

                <div class="box-body ">




                    <table class="table table-primary table-list">
                        <thead>
                            <tr>
                                <th>Status</th>
                                <th>Name</th>
                                <th>Time</th>
                                <th>Duration</th>
                                <th>%</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="build in builds | filter:{result :status}" ng-class="{'danger' : (build.result != 'SUCCESS') }">
                                <td>
                                    <i ng-if="isSuccess(build.result)" class="success fa fa-check-square "></i>
                                    <i ng-if="!isSuccess(build.result)" class="danger fa fa-bug "></i>
                                    <i ng-if="" class="fa fa-cog fa-spin "></i>
                                    <br>
                                </td>
                                <td><a ui-sref="global.build({ id: project.id, buildId: build.id })">{{build.fullDisplayName}}</a>
                                </td>
                                <td>
                                    <i class="fa fa-clock-o"></i> {{build.id | humanizeDate}}
                                </td>
                                <td>
                                    {{build.duration | durationMilliseconds}}
                                </td>
                                <td>
                                    <progress>
                                        <bar value="calcPerCent(build.summary.passingScenarios,build.summary.totalScenarios)" type="success">
                                            <span>{{calcPerCent(build.summary.passingScenarios,build.summary.totalScenarios)}}%</span>
                                        </bar>
                                        <bar value="calcPerCent(build.summary.faillingScenarios,build.summary.totalScenarios)" type="danger">
                                            <span>{{calcPerCent(build.summary.faillingScenarios,build.summary.totalScenarios)}}%</span>
                                        </bar>
                                    </progress>
                                </td>

                            </tr>
                        </tbody>
                    </table>


                </div>
                <!-- /.box-->
            </div>


            <div class="box">
                <div class="box-header">
                    <h3 class="box-title">Progress</h3>
                </div>
                <!-- /.box-header -->
                <div class="box-body no-padding">
                    <table class="table">
                        <tbody>
                            <tr>
                                <th style="width: 10px">#</th>
                                <th>Task</th>
                                <th>Progress</th>
                                <th style="width: 40px">Label</th>
                            </tr>
                            <tr>
                                <td>1.</td>
                                <td>Feature X</td>
                                <td>
                                    <div class="progress xs">
                                        <div class="progress-bar progress-bar-danger" style="width: 55%"></div>
                                    </div>
                                </td>
                                <td>
                                    <span class="badge bg-red">55%</span>
                                </td>
                            </tr>
                            <tr>
                                <td>2.</td>
                                <td>Feature X</td>
                                <td>
                                    <div class="progress xs">
                                        <div class="progress-bar progress-bar-yellow" style="width: 70%"></div>
                                    </div>
                                </td>
                                <td>
                                    <span class="badge bg-yellow">70%</span>
                                </td>
                            </tr>
                            <tr>
                                <td>3.</td>
                                <td>Feature X</td>
                                <td>
                                    <div class="progress xs progress-striped active">
                                        <div class="progress-bar progress-bar-primary" style="width: 30%"></div>
                                    </div>
                                </td>
                                <td>
                                    <span class="badge bg-light-blue">30%</span>
                                </td>
                            </tr>
                            <tr>
                                <td>4.</td>
                                <td>Feature X</td>
                                <td>
                                    <div class="progress xs progress-striped active">
                                        <div class="progress-bar progress-bar-success" style="width: 90%"></div>
                                    </div>
                                </td>
                                <td>
                                    <span class="badge bg-green">90%</span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- /.box-body -->
            </div>






        </section>
        </div>
        <!-- /.row (main row) -->

    </section>
    <!-- /.content -->
</aside>
<!-- /.right-side -->


<div ui-view></div>
