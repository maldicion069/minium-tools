<div class="row">
    <h3>List of features
    <span class="fa-stack">
        <em class="fa fa-circle fa-stack-2x text-primary"></em>
        <em class="fa fa-rocket fa-stack-1x fa-inverse text-white"></em>
    </span>
    <strong>{{features.length}} Total </strong>

    <span class="fa-stack">
    <em class="fa fa-circle fa-stack-2x text-success"></em>
    <em class="fa fa-check-square fa-stack-1x fa-inverse text-white"></em>
    </span>
    <strong>{{passingFeatures.length}} Passing</strong>
    <span class="fa-stack">
    <em class="fa fa-circle fa-stack-2x text-danger"></em>
    <em class="fa fa-bug fa-stack-1x fa-inverse text-white"></em>
    </span>
    <strong>{{faillingFeatures.length}} Failures</strong>
     <span class="fa-stack">
        <em class="fa fa-circle fa-stack-2x text-warning"></em>
        <em class="fa fa-warning fa-stack-1x fa-inverse text-white"></em>
        </span>
    <strong>{{skippedFeatures.length}} Skipped</strong>
    

    <div class="col-sm-3 col-md-3">
        <div class="btn-group pull-right" data-toggle="buttons">
            <label class="btn btn-default" ng-click="feature_status = 'PASSED'">
                <input type="radio"></input>
                <i class="fa fa-square text-green"></i> Success
            </label>
            <label class="btn btn-default" ng-click="feature_status = 'FAILED'">
                <input type="radio"></input>
                <i class="fa fa-square text-red"></i> Failling
            </label>

            <label class="btn btn-default" ng-click="feature_status = ''">
                <input type="radio"></input>
                <i class="fa fa-square "></i> All
            </label>
        </div>
    </div>
    <div class="col-sm-4 col-md-4">
        <form class="form-inline">
            <div class="input-append">
                <input type="text" ng-model="query" class="form-control" placeholder="search">
            </div>
        </form>
    </div>
    </h3>
</div>

<table class="table table-primary table-list">
    <thead>
        <tr>
            <th>Result</th>
            <th>Feature</th>
            <th>Total</th>
            <th>Passed</th>
            <th>Failed</th>

            <th>Duration</th>
            <th>File</th>
        </tr>
    </thead>
    <tbody>

        <tr bindonce ng-repeat="feature in faillingFeatures | filter:query | filter:{status :feature_status}" bo-class="{'danger' : !isPassed(feature.status),'success' : isPassed(feature.status)}">

            <td>
                <i bo-if="isPassed(feature.status)" class="success fa fa-check-square fa-2x"></i>
                <i bo-if="!isPassed(feature.status)" class="danger fa fa-bug fa-2x"></i>
            </td>
            <td>
                <a ui-sref="global.feature({ id: project.id, buildId: buildId, featureURI: (feature.uri | escape) })">
                   {{feature.rawName}}
                </a>
            </td>
            <td>
                {{feature.numberOfSteps}}
            </td>
            <td style="background-color:grenn;">
                {{feature.numberOfPasses}}
            </td>
            <td>
                {{feature.numberOfFailures}}
            </td>

            <td>
                {{feature.durationOfSteps}}
            </td>
            <td>
                <a class='btn btn-info btn-xs' ng-href="{{location}}/editor/{{feature.uri}}?line=1" target="_blank">
                    Go to File
                </a>
            </td>
        </tr>

    </tbody>
</table>

<!-- table-responsive -->


<accordion close-others="oneAtATime" ng-hide="feature_status == 'FAILED' || isEmpty(passingFeatures)">
    <accordion-group is-open="status.open" >
        <accordion-heading>
            <i class="success fa fa-check-square "></i>

            <strong>Passing Features  <span class="badge">{{passingFeatures.length}}</span></strong>
        </accordion-heading>

        <table class="table table-primary table-list">
            <thead>
                <tr>
                    <th>Result</th>
                    <th>Feature</th>
                    <th>Total</th>
                    <th>Passed</th>
                    <th>Failed</th>

                    <th>Duration</th>
                    <th>File</th>
                    <th class="text-center"></th>
                </tr>
            </thead>
            <tbody>
                <tr bindonce ng-repeat="feature in passingFeatures | filter:query | filter:{status : feature_status}" bo-class="{'danger' : !isPassed(feature.status),'success' : isPassed(feature.status)}">
                    <td>
                        <i bo-if="isPassed(feature.status)" class="success fa fa-check-square fa-2x"></i>
                        <i bo-if="!isPassed(feature.status)" class="danger fa fa-bug fa-2x"></i>
                    </td>
                    <td>
                        <a ui-sref="global.feature({ id: project.id, buildId: buildId, featureURI: (feature.uri | escape) })">
                               {{feature.rawName}}
                            </a>
                    </td>
                    <td>
                        {{feature.numberOfSteps}}
                    </td>
                    <td style="background-color:grenn;">
                        {{feature.numberOfPasses}}
                    </td>
                    <td>
                        {{feature.numberOfFailures}}
                    </td>

                    <td>
                        {{feature.durationOfSteps}}
                    </td>
                    <td>
                        <a class='btn btn-info btn-xs' ng-href="{{location}}/editor/{{feature.uri}}?line=1" target="_blank">
                                Go to File
                            </a>
                    </td>


                    <td>
                        <div class="btn-group">
                            <a data-toggle="dropdown" class="dropdown-toggle">
                                <i class="fa fa-cog"></i>
                            </a>
                            <ul role="menu" class="dropdown-menu pull-right">
                                <li><a href="#">View</a>
                                </li>
                                <li><a href="#">Close</a>
                                </li>
                                <li><a href="#">Resolve</a>
                                </li>
                                <li class="divider"></li>
                                <li><a href="#">Assign</a>
                                </li>
                                <li><a href="#">Comment</a>
                                </li>
                            </ul>
                        </div>
                    </td>
                </tr>

            </tbody>
        </table>
    </accordion-group>
</accordion>
